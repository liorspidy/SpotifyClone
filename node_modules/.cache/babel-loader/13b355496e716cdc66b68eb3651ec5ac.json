{"ast":null,"code":"import _createForOfIteratorHelper from\"C:/Users/liors/Documents/Code Projects/JS/ReactProject/spotify-clone/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";import _slicedToArray from\"C:/Users/liors/Documents/Code Projects/JS/ReactProject/spotify-clone/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import classes from'./Footer.module.css';import FavoriteBorderIcon from'@mui/icons-material/FavoriteBorder';import PictureInPictureAltIcon from'@mui/icons-material/PictureInPictureAlt';import ShuffleIcon from'@mui/icons-material/Shuffle';import SkipPreviousIcon from'@mui/icons-material/SkipPrevious';import SkipNextIcon from'@mui/icons-material/SkipNext';import RepeatIcon from'@mui/icons-material/Repeat';import PlayArrowIcon from'@mui/icons-material/PlayArrow';import PauseIcon from'@mui/icons-material/Pause';import Volume from'./Volume';import TimingSlider from'./TimingSlider';import{useState,useEffect}from'react';import SpotifyWebApi from'spotify-web-api-js';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var spotify=new SpotifyWebApi();export default function Footer(props){var _currentTrack$item,_currentTrack$item2,_currentTrack$item3,_currentTrack$item4,_currentTrack$item5;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isPlaying=_useState2[0],setIsPlaying=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),position=_useState4[0],setPosition=_useState4[1];var _useState5=useState({}),_useState6=_slicedToArray(_useState5,2),currentTrack=_useState6[0],setCurrentTrack=_useState6[1];var _useState7=useState(100),_useState8=_slicedToArray(_useState7,2),volumeValue=_useState8[0],setVolumeValue=_useState8[1];var helperArtists=[];(_currentTrack$item=currentTrack.item)===null||_currentTrack$item===void 0?void 0:_currentTrack$item.artists.forEach(function(artist){helperArtists.push(artist.name);});var artists=helperArtists.join(', ');function allLetters(str){var alpha=new Set('abcdefghijklmnopqrstuvwxyz');var _iterator=_createForOfIteratorHelper(alpha),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var c=_step.value;if(str!==null&&str!==void 0&&str.toLowerCase().includes(c)){return true;}}}catch(err){_iterator.e(err);}finally{_iterator.f();}return false;}var classByLang=!allLetters((_currentTrack$item2=currentTrack.item)===null||_currentTrack$item2===void 0?void 0:_currentTrack$item2.name)?\"\".concat(classes.title_heb_name):\"\".concat(classes.title_eng_name);var playButtonHandler=function playButtonHandler(){setIsPlaying(function(prevState){return prevState=!prevState;});if(currentTrack!==null&&currentTrack!==void 0&&currentTrack.is_playing){spotify.pause().then(function(res){return setCurrentTrack(res);}).catch(function(error){return console.log(error.message);});}else{spotify.play().then(function(res){return setCurrentTrack(res);}).catch(function(error){return console.log(error.message);});}};var skipHandler=function skipHandler(){spotify.skipToNext().then().catch(function(error){return console.log(error.message);});spotify.getMyCurrentPlayingTrack().then(function(res){return setCurrentTrack(res);}).catch(function(error){return console.log(error.message);});};var prevHandler=function prevHandler(){spotify.skipToPrevious().then().catch(function(error){return console.log(error.message);});spotify.getMyCurrentPlayingTrack().then(function(res){return setCurrentTrack(res);}).catch(function(error){return console.log(error.message);});};useEffect(function(){setTimeout(function(){spotify.getMyCurrentPlayingTrack().then(function(res){return setCurrentTrack(res);}).catch(function(error){return console.log(error.message);});spotify.setVolume(volumeValue).catch(function(error){return console.log(error.message);});},100);setPosition(currentTrack.progress_ms);setIsPlaying(currentTrack.is_playing);},[currentTrack.progress_ms,currentTrack.is_playing]);return/*#__PURE__*/_jsxs(\"div\",{className:classes.footer,children:[/*#__PURE__*/_jsx(\"div\",{className:classes.currentTrackBox,children:/*#__PURE__*/_jsxs(\"div\",{className:classes.currentTrack,children:[/*#__PURE__*/_jsx(\"img\",{className:classes.currentImg,src:(_currentTrack$item3=currentTrack.item)===null||_currentTrack$item3===void 0?void 0:_currentTrack$item3.album.images[1].url,alt:(_currentTrack$item4=currentTrack.item)===null||_currentTrack$item4===void 0?void 0:_currentTrack$item4.album.name}),/*#__PURE__*/_jsxs(\"div\",{className:classes.currentTrackDetails,children:[/*#__PURE__*/_jsx(\"h1\",{className:classByLang,children:(_currentTrack$item5=currentTrack.item)===null||_currentTrack$item5===void 0?void 0:_currentTrack$item5.name}),/*#__PURE__*/_jsx(\"h5\",{className:classes.artists,children:artists})]}),/*#__PURE__*/_jsxs(\"div\",{className:classes.currentTrackIcons,children:[/*#__PURE__*/_jsx(FavoriteBorderIcon,{className:classes.playerIcon}),/*#__PURE__*/_jsx(PictureInPictureAltIcon,{className:classes.playerIcon})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:classes.footerMainButtons,children:[/*#__PURE__*/_jsxs(\"div\",{className:classes.footerMainButtonsIcons,children:[/*#__PURE__*/_jsx(ShuffleIcon,{className:classes.footerMainButtonsIcon}),/*#__PURE__*/_jsx(SkipPreviousIcon,{className:classes.footerMainButtonsBackForward,onClick:prevHandler}),!isPlaying&&/*#__PURE__*/_jsx(PlayArrowIcon,{className:classes.PlayButton,onClick:playButtonHandler}),isPlaying&&/*#__PURE__*/_jsx(PauseIcon,{className:classes.PlayButton,onClick:playButtonHandler}),/*#__PURE__*/_jsx(SkipNextIcon,{className:classes.footerMainButtonsBackForward,onClick:skipHandler}),/*#__PURE__*/_jsx(RepeatIcon,{className:classes.footerMainButtonsIcon})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(TimingSlider,{className:classes.footerMainButtonsSlider,position:position,setPosition:setPosition,currentTrack:currentTrack})})]}),/*#__PURE__*/_jsx(Volume,{setVolumeValue:setVolumeValue})]});}","map":{"version":3,"names":["classes","FavoriteBorderIcon","PictureInPictureAltIcon","ShuffleIcon","SkipPreviousIcon","SkipNextIcon","RepeatIcon","PlayArrowIcon","PauseIcon","Volume","TimingSlider","useState","useEffect","SpotifyWebApi","spotify","Footer","props","isPlaying","setIsPlaying","position","setPosition","currentTrack","setCurrentTrack","volumeValue","setVolumeValue","helperArtists","item","artists","forEach","artist","push","name","join","allLetters","str","alpha","Set","c","toLowerCase","includes","classByLang","title_heb_name","title_eng_name","playButtonHandler","prevState","is_playing","pause","then","res","catch","error","console","log","message","play","skipHandler","skipToNext","getMyCurrentPlayingTrack","prevHandler","skipToPrevious","setTimeout","setVolume","progress_ms","footer","currentTrackBox","currentImg","album","images","url","currentTrackDetails","currentTrackIcons","playerIcon","footerMainButtons","footerMainButtonsIcons","footerMainButtonsIcon","footerMainButtonsBackForward","PlayButton","footerMainButtonsSlider"],"sources":["C:/Users/liors/Documents/Code Projects/JS/ReactProject/spotify-clone/src/footer/Footer.js"],"sourcesContent":["import classes from './Footer.module.css';\r\nimport FavoriteBorderIcon from '@mui/icons-material/FavoriteBorder';\r\nimport PictureInPictureAltIcon from '@mui/icons-material/PictureInPictureAlt';\r\nimport ShuffleIcon from '@mui/icons-material/Shuffle';\r\nimport SkipPreviousIcon from '@mui/icons-material/SkipPrevious';\r\nimport SkipNextIcon from '@mui/icons-material/SkipNext';\r\nimport RepeatIcon from '@mui/icons-material/Repeat';\r\nimport PlayArrowIcon from '@mui/icons-material/PlayArrow';\r\nimport PauseIcon from '@mui/icons-material/Pause';\r\nimport Volume from './Volume';\r\nimport TimingSlider from './TimingSlider';\r\nimport { useState, useEffect } from 'react';\r\nimport SpotifyWebApi from 'spotify-web-api-js';\r\n\r\nconst spotify = new SpotifyWebApi();\r\n\r\nexport default function Footer(props) {\r\n  const [isPlaying, setIsPlaying] = useState(false);\r\n  const [position, setPosition] = useState(0);\r\n  const [currentTrack, setCurrentTrack] = useState({});\r\n  const [volumeValue, setVolumeValue] = useState(100);\r\n\r\n  const helperArtists = [];\r\n  currentTrack.item?.artists.forEach((artist) => {\r\n    helperArtists.push(artist.name);\r\n  });\r\n\r\n  const artists = helperArtists.join(', ');\r\n\r\n  function allLetters(str) {\r\n    let alpha = new Set('abcdefghijklmnopqrstuvwxyz');\r\n    for (let c of alpha) {\r\n      if (str?.toLowerCase().includes(c)) {\r\n        return true;\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n\r\n  const classByLang = !allLetters(currentTrack.item?.name)\r\n    ? `${classes.title_heb_name}`\r\n    : `${classes.title_eng_name}`;\r\n\r\n  const playButtonHandler = () => {\r\n    setIsPlaying((prevState) => (prevState = !prevState));\r\n    if (currentTrack?.is_playing) {\r\n      spotify\r\n        .pause()\r\n        .then((res) => setCurrentTrack(res))\r\n        .catch((error) => console.log(error.message));\r\n    } else {\r\n      spotify\r\n        .play()\r\n        .then((res) => setCurrentTrack(res))\r\n        .catch((error) => console.log(error.message));\r\n    }\r\n  };\r\n\r\n  const skipHandler = () => {\r\n    spotify\r\n      .skipToNext()\r\n      .then()\r\n      .catch((error) => console.log(error.message));\r\n    spotify\r\n      .getMyCurrentPlayingTrack()\r\n      .then((res) => setCurrentTrack(res))\r\n      .catch((error) => console.log(error.message));\r\n  };\r\n\r\n  const prevHandler = () => {\r\n    spotify\r\n      .skipToPrevious()\r\n      .then()\r\n      .catch((error) => console.log(error.message));\r\n    spotify\r\n      .getMyCurrentPlayingTrack()\r\n      .then((res) => setCurrentTrack(res))\r\n      .catch((error) => console.log(error.message));\r\n  };\r\n\r\n  useEffect(() => {\r\n    setTimeout(() => {\r\n      spotify\r\n        .getMyCurrentPlayingTrack()\r\n        .then((res) => setCurrentTrack(res))\r\n        .catch((error) => console.log(error.message));\r\n      spotify\r\n        .setVolume(volumeValue)\r\n        .catch((error) => console.log(error.message));\r\n    }, 100);\r\n\r\n    setPosition(currentTrack.progress_ms);\r\n    setIsPlaying(currentTrack.is_playing);\r\n  }, [currentTrack.progress_ms, currentTrack.is_playing]);\r\n\r\n  return (\r\n    <div className={classes.footer}>\r\n      <div className={classes.currentTrackBox}>\r\n        <div className={classes.currentTrack}>\r\n          <img\r\n            className={classes.currentImg}\r\n            src={currentTrack.item?.album.images[1].url}\r\n            alt={currentTrack.item?.album.name}\r\n          />\r\n          <div className={classes.currentTrackDetails}>\r\n            <h1 className={classByLang}>{currentTrack.item?.name}</h1>\r\n            <h5 className={classes.artists}>{artists}</h5>\r\n          </div>\r\n          <div className={classes.currentTrackIcons}>\r\n            <FavoriteBorderIcon className={classes.playerIcon} />\r\n            <PictureInPictureAltIcon className={classes.playerIcon} />\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className={classes.footerMainButtons}>\r\n        <div className={classes.footerMainButtonsIcons}>\r\n          <ShuffleIcon className={classes.footerMainButtonsIcon} />\r\n          <SkipPreviousIcon\r\n            className={classes.footerMainButtonsBackForward}\r\n            onClick={prevHandler}\r\n          />\r\n          {!isPlaying && (\r\n            <PlayArrowIcon\r\n              className={classes.PlayButton}\r\n              onClick={playButtonHandler}\r\n            />\r\n          )}\r\n          {isPlaying && (\r\n            <PauseIcon\r\n              className={classes.PlayButton}\r\n              onClick={playButtonHandler}\r\n            />\r\n          )}\r\n          <SkipNextIcon\r\n            className={classes.footerMainButtonsBackForward}\r\n            onClick={skipHandler}\r\n          />\r\n          <RepeatIcon className={classes.footerMainButtonsIcon} />\r\n        </div>\r\n        <div>\r\n          <TimingSlider\r\n            className={classes.footerMainButtonsSlider}\r\n            position={position}\r\n            setPosition={setPosition}\r\n            currentTrack={currentTrack}\r\n          />\r\n        </div>\r\n      </div>\r\n      <Volume setVolumeValue={setVolumeValue} />\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}